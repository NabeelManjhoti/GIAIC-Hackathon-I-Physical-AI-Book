"use strict";(globalThis.webpackChunkgiaic_hackathon_i_physical_ai_book=globalThis.webpackChunkgiaic_hackathon_i_physical_ai_book||[]).push([[923],{5684:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"gazebo-simulation","title":"Simulating with Gazebo (World Creation, Physics)","description":"Using Gazebo simulation environment for robotics development - world creation, physics modeling, and sensor simulation","source":"@site/docs/3-gazebo-simulation.mdx","sourceDirName":".","slug":"/3-gazebo-simulation","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/3-gazebo-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3-gazebo-simulation.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Simulating with Gazebo (World Creation, Physics)","description":"Using Gazebo simulation environment for robotics development - world creation, physics modeling, and sensor simulation","slug":"/3-gazebo-simulation"},"sidebar":"textbookSidebar","previous":{"title":"ROS 2 Basics (Nodes, Topics, Services)","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/2-ros2-basics"},"next":{"title":"NVIDIA Isaac Sim & Gym (Reinforcement Learning)","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/4-nvidia-isaac-gym"}}');var s=i(4848),a=i(8453);const o={sidebar_position:3,title:"Simulating with Gazebo (World Creation, Physics)",description:"Using Gazebo simulation environment for robotics development - world creation, physics modeling, and sensor simulation",slug:"/3-gazebo-simulation"},l="Simulating with Gazebo (World Creation, Physics)",t={},c=[{value:"Introduction to Gazebo",id:"introduction-to-gazebo",level:2},{value:"Installing and Setting Up Gazebo",id:"installing-and-setting-up-gazebo",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Basic Gazebo Launch",id:"basic-gazebo-launch",level:3},{value:"World Creation",id:"world-creation",level:2},{value:"Basic World Structure",id:"basic-world-structure",level:3},{value:"Creating Custom Worlds",id:"creating-custom-worlds",level:3},{value:"Loading Custom Worlds",id:"loading-custom-worlds",level:3},{value:"Physics Simulation",id:"physics-simulation",level:2},{value:"Physics Engines",id:"physics-engines",level:3},{value:"Physics Configuration",id:"physics-configuration",level:3},{value:"Material Properties",id:"material-properties",level:3},{value:"Sensor Simulation",id:"sensor-simulation",level:2},{value:"Camera Sensors",id:"camera-sensors",level:3},{value:"LiDAR Sensors",id:"lidar-sensors",level:3},{value:"IMU Sensors",id:"imu-sensors",level:3},{value:"Integrating with ROS 2",id:"integrating-with-ros-2",level:2},{value:"Spawning Models in Gazebo",id:"spawning-models-in-gazebo",level:3},{value:"Controlling Models via ROS 2",id:"controlling-models-via-ros-2",level:3},{value:"Getting Model States",id:"getting-model-states",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Simulation Parameters",id:"simulation-parameters",level:3},{value:"Visualization Settings",id:"visualization-settings",level:3},{value:"Model Complexity",id:"model-complexity",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Simulation Instability",id:"simulation-instability",level:3},{value:"Performance Issues",id:"performance-issues",level:3},{value:"Model Penetration",id:"model-penetration",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"simulating-with-gazebo-world-creation-physics",children:"Simulating with Gazebo (World Creation, Physics)"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction-to-gazebo",children:"Introduction to Gazebo"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo is a powerful 3D simulation environment that provides realistic physics simulation, high-quality graphics, and sensor simulation for robotics development. It's widely used in the robotics community for testing algorithms, validating control systems, and training AI models before deployment on real robots."}),"\n",(0,s.jsx)(n.h2,{id:"installing-and-setting-up-gazebo",children:"Installing and Setting Up Gazebo"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo (this example uses Gazebo Garden)\r\nsudo apt-get install ros-humble-gazebo-ros-pkgs\n"})}),"\n",(0,s.jsx)(n.h3,{id:"basic-gazebo-launch",children:"Basic Gazebo Launch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with empty world\r\ngazebo\r\n\r\n# Launch Gazebo with ROS 2 integration\r\nros2 launch gazebo_ros gazebo.launch.py\n"})}),"\n",(0,s.jsx)(n.h2,{id:"world-creation",children:"World Creation"}),"\n",(0,s.jsx)(n.h3,{id:"basic-world-structure",children:"Basic World Structure"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo worlds are defined using SDF (Simulation Description Format) files. Here's a minimal world file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="default">\r\n    \x3c!-- Include a model from the model database --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Include the sun --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n\r\n    \x3c!-- Your custom models go here --\x3e\r\n    <model name="my_robot">\r\n      \x3c!-- Model definition --\x3e\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"creating-custom-worlds",children:"Creating Custom Worlds"}),"\n",(0,s.jsx)(n.p,{children:"Let's create a more complex world with custom elements:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="my_warehouse">\r\n    \x3c!-- Physics engine configuration --\x3e\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000.0</real_time_update_rate>\r\n    </physics>\r\n\r\n    \x3c!-- Environment lighting --\x3e\r\n    <light name="sun" type="directional">\r\n      <cast_shadows>true</cast_shadows>\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>0.8 0.8 0.8 1</diffuse>\r\n      <specular>0.2 0.2 0.2 1</specular>\r\n      <attenuation>\r\n        <range>1000</range>\r\n        <constant>0.9</constant>\r\n        <linear>0.01</linear>\r\n        <quadratic>0.001</quadratic>\r\n      </attenuation>\r\n      <direction>-0.6 0.4 -0.8</direction>\r\n    </light>\r\n\r\n    \x3c!-- Ground plane --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Custom floor with texture --\x3e\r\n    <model name="floor">\r\n      <static>true</static>\r\n      <link name="floor_link">\r\n        <collision name="floor_collision">\r\n          <geometry>\r\n            <box>\r\n              <size>10 10 0.1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="floor_visual">\r\n          <geometry>\r\n            <box>\r\n              <size>10 10 0.1</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.7 0.7 0.7 1</ambient>\r\n            <diffuse>0.7 0.7 0.7 1</diffuse>\r\n            <specular>0.1 0.1 0.1 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    \x3c!-- Obstacles --\x3e\r\n    <model name="wall_1">\r\n      <pose>0 4 0.5 0 0 0</pose>\r\n      <static>true</static>\r\n      <link name="wall_link">\r\n        <collision name="wall_collision">\r\n          <geometry>\r\n            <box>\r\n              <size>10 0.2 1</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="wall_visual">\r\n          <geometry>\r\n            <box>\r\n              <size>10 0.2 1</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    \x3c!-- Add a simple robot --\x3e\r\n    <model name="simple_robot">\r\n      <pose>0 0 0.2 0 0 0</pose>\r\n      <link name="chassis">\r\n        <pose>0 0 0.1 0 0 0</pose>\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.5 0.2</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.5 0.2</size>\r\n            </box>\r\n          </geometry>\r\n        </visual>\r\n        <inertial>\r\n          <mass>1.0</mass>\r\n          <inertia>\r\n            <ixx>0.01</ixx>\r\n            <ixy>0</ixy>\r\n            <ixz>0</ixz>\r\n            <iyy>0.01</iyy>\r\n            <iyz>0</iyz>\r\n            <izz>0.01</izz>\r\n          </inertia>\r\n        </inertial>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loading-custom-worlds",children:"Loading Custom Worlds"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with your custom world\r\ngazebo ~/.gazebo/worlds/my_warehouse.world\r\n\r\n# Or launch via ROS 2\r\nros2 launch gazebo_ros gazebo.launch.py world:=/path/to/my_world.sdf\n"})}),"\n",(0,s.jsx)(n.h2,{id:"physics-simulation",children:"Physics Simulation"}),"\n",(0,s.jsx)(n.h3,{id:"physics-engines",children:"Physics Engines"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo supports multiple physics engines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ODE (Open Dynamics Engine)"}),": Default, good for most applications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Bullet"}),": Fast, good for real-time simulation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DART"}),": Advanced physics, good for complex interactions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simbody"}),": Multi-body dynamics"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"physics-configuration",children:"Physics Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Physics parameters significantly affect simulation accuracy and performance:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<physics type="ode">\r\n  \x3c!-- Time step for simulation --\x3e\r\n  <max_step_size>0.001</max_step_size>\r\n\r\n  \x3c!-- Real-time factor (1.0 = real-time, >1.0 = faster than real-time) --\x3e\r\n  <real_time_factor>1.0</real_time_factor>\r\n\r\n  \x3c!-- Update rate (Hz) --\x3e\r\n  <real_time_update_rate>1000.0</real_time_update_rate>\r\n\r\n  \x3c!-- Solver parameters --\x3e\r\n  <ode>\r\n    <solver>\r\n      <type>quick</type>\r\n      <iters>10</iters>\r\n      <sor>1.3</sor>\r\n    </solver>\r\n    <constraints>\r\n      <cfm>0.0</cfm>\r\n      <erp>0.2</erp>\r\n      <contact_max_correcting_vel>100.0</contact_max_correcting_vel>\r\n      <contact_surface_layer>0.001</contact_surface_layer>\r\n    </constraints>\r\n  </ode>\r\n</physics>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"material-properties",children:"Material Properties"}),"\n",(0,s.jsx)(n.p,{children:"Material properties affect how objects interact:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<material>\r\n  <ambient>0.3 0.3 0.3 1</ambient>\r\n  <diffuse>0.7 0.7 0.7 1</diffuse>\r\n  <specular>0.1 0.1 0.1 1</specular>\r\n  <emissive>0 0 0 1</emissive>\r\n</material>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"sensor-simulation",children:"Sensor Simulation"}),"\n",(0,s.jsx)(n.h3,{id:"camera-sensors",children:"Camera Sensors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\r\n  <pose>0.1 0 0.1 0 0 0</pose>\r\n  <camera name="head">\r\n    <horizontal_fov>1.047</horizontal_fov>\r\n    <image>\r\n      <width>640</width>\r\n      <height>480</height>\r\n      <format>R8G8B8</format>\r\n    </image>\r\n    <clip>\r\n      <near>0.1</near>\r\n      <far>100</far>\r\n    </clip>\r\n  </camera>\r\n  <always_on>1</always_on>\r\n  <update_rate>30</update_rate>\r\n  <visualize>true</visualize>\r\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"lidar-sensors",children:"LiDAR Sensors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="lidar" type="ray">\r\n  <pose>0.1 0 0.2 0 0 0</pose>\r\n  <ray>\r\n    <scan>\r\n      <horizontal>\r\n        <samples>360</samples>\r\n        <resolution>1</resolution>\r\n        <min_angle>-3.14159</min_angle>\r\n        <max_angle>3.14159</max_angle>\r\n      </horizontal>\r\n    </scan>\r\n    <range>\r\n      <min>0.1</min>\r\n      <max>30.0</max>\r\n      <resolution>0.01</resolution>\r\n    </range>\r\n  </ray>\r\n  <always_on>1</always_on>\r\n  <update_rate>10</update_rate>\r\n  <visualize>true</visualize>\r\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"imu-sensors",children:"IMU Sensors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="imu_sensor" type="imu">\r\n  <always_on>1</always_on>\r\n  <update_rate>100</update_rate>\r\n  <visualize>false</visualize>\r\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"integrating-with-ros-2",children:"Integrating with ROS 2"}),"\n",(0,s.jsx)(n.h3,{id:"spawning-models-in-gazebo",children:"Spawning Models in Gazebo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Spawn a model at a specific pose\r\nros2 run gazebo_ros spawn_entity.py -entity my_robot -file /path/to/robot.sdf -x 0 -y 0 -z 0.5\r\n\r\n# Spawn using topic\r\nros2 topic pub /spawn_entity gazebo_msgs/msg/SpawnEntity \"{name: 'my_robot', xml: '<sdf>...</sdf>', initial_pose: {position: {x: 1, y: 1, z: 0.5}}}\"\n"})}),"\n",(0,s.jsx)(n.h3,{id:"controlling-models-via-ros-2",children:"Controlling Models via ROS 2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import Twist\r\nfrom std_msgs.msg import String\r\n\r\nclass GazeboController(Node):\r\n    def __init__(self):\r\n        super().__init__('gazebo_controller')\r\n        self.publisher = self.create_publisher(Twist, '/cmd_vel', 10)\r\n        timer_period = 0.1  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n\r\n    def timer_callback(self):\r\n        msg = Twist()\r\n        msg.linear.x = 1.0\r\n        msg.angular.z = 0.5\r\n        self.publisher.publish(msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    controller = GazeboController()\r\n    rclpy.spin(controller)\r\n    controller.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getting-model-states",children:"Getting Model States"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Get model state\r\nros2 service call /gazebo/get_entity_state gazebo_msgs/srv/GetEntityState \"{name: 'my_robot', reference_frame: ''}\"\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"simulation-parameters",children:"Simulation Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Time Step"}),": Smaller steps increase accuracy but decrease performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update Rate"}),": Balance between responsiveness and computational load"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Factor"}),": Adjust based on available computational resources"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"visualization-settings",children:"Visualization Settings"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Disable visualization when running headless"}),"\n",(0,s.jsx)(n.li,{children:"Reduce rendering quality for faster simulation"}),"\n",(0,s.jsx)(n.li,{children:"Use simplified models for performance-critical scenarios"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"model-complexity",children:"Model Complexity"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use simplified collision geometries when possible"}),"\n",(0,s.jsx)(n.li,{children:"Reduce mesh complexity for faster rendering"}),"\n",(0,s.jsx)(n.li,{children:"Optimize sensor update rates based on requirements"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start Simple"}),": Begin with basic models and gradually increase complexity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate Physics"}),": Ensure physical parameters match real-world values"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensor Calibration"}),": Calibrate simulated sensors to match real hardware"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance Monitoring"}),": Monitor simulation timing and adjust parameters accordingly"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"World Design"}),": Create worlds that match your testing requirements"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,s.jsx)(n.h3,{id:"simulation-instability",children:"Simulation Instability"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reduce time step size"}),"\n",(0,s.jsx)(n.li,{children:"Adjust solver parameters"}),"\n",(0,s.jsx)(n.li,{children:"Check mass and inertia values"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Simplify collision geometries"}),"\n",(0,s.jsx)(n.li,{children:"Reduce sensor update rates"}),"\n",(0,s.jsx)(n.li,{children:"Use appropriate physics engine"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"model-penetration",children:"Model Penetration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Increase physics update rate"}),"\n",(0,s.jsx)(n.li,{children:"Adjust ERP and CFM parameters"}),"\n",(0,s.jsx)(n.li,{children:"Verify collision geometries"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo provides a comprehensive simulation environment for robotics development, offering realistic physics, sensor simulation, and integration with ROS 2. Proper world creation and physics configuration are crucial for effective simulation. The next chapter will explore NVIDIA Isaac Sim and its applications in reinforcement learning for robotics."})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);