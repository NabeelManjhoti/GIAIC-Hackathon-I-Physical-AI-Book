"use strict";(globalThis.webpackChunkgiaic_hackathon_i_physical_ai_book=globalThis.webpackChunkgiaic_hackathon_i_physical_ai_book||[]).push([[429],{7516:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"ros2-basics","title":"ROS 2 Basics (Nodes, Topics, Services)","description":"Fundamentals of Robot Operating System 2 - Nodes, Topics, Services, and communication patterns","source":"@site/docs/2-ros2-basics.mdx","sourceDirName":".","slug":"/2-ros2-basics","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/2-ros2-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/2-ros2-basics.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"ROS 2 Basics (Nodes, Topics, Services)","description":"Fundamentals of Robot Operating System 2 - Nodes, Topics, Services, and communication patterns","slug":"/2-ros2-basics"},"sidebar":"textbookSidebar","previous":{"title":"Introduction to Embodied Intelligence","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/1-introduction-embodied-intelligence"},"next":{"title":"Simulating with Gazebo (World Creation, Physics)","permalink":"/GIAIC-Hackathon-I-Physical-AI-Book/3-gazebo-simulation"}}');var i=r(4848),o=r(8453);const a={sidebar_position:2,title:"ROS 2 Basics (Nodes, Topics, Services)",description:"Fundamentals of Robot Operating System 2 - Nodes, Topics, Services, and communication patterns",slug:"/2-ros2-basics"},t="ROS 2 Basics (Nodes, Topics, Services)",c={},l=[{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Core Architecture Concepts",id:"core-architecture-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Publishers/Subscribers",id:"topics-and-publisherssubscribers",level:3},{value:"Services",id:"services",level:3},{value:"Common ROS 2 Commands",id:"common-ros-2-commands",level:2},{value:"Managing Nodes",id:"managing-nodes",level:3},{value:"Working with Topics",id:"working-with-topics",level:3},{value:"Working with Services",id:"working-with-services",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Actions",id:"actions",level:2},{value:"Launch Files",id:"launch-files",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ros-2-basics-nodes-topics-services",children:"ROS 2 Basics (Nodes, Topics, Services)"})}),"\n",(0,i.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,i.jsx)(n.p,{children:"Robot Operating System 2 (ROS 2) is the next-generation framework for developing robotic applications. Unlike its predecessor, ROS 2 provides improved security, real-time support, and better cross-platform compatibility. It's built on DDS (Data Distribution Service) for robust communication between robotic components."}),"\n",(0,i.jsx)(n.h2,{id:"core-architecture-concepts",children:"Core Architecture Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsx)(n.p,{children:"Nodes are the fundamental building blocks of ROS 2 applications. Each node is a process that performs specific computation and communicates with other nodes through topics, services, or actions."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example: Running a ROS 2 node\r\nros2 run turtlesim turtlesim_node\n"})}),"\n",(0,i.jsx)(n.h3,{id:"topics-and-publisherssubscribers",children:"Topics and Publishers/Subscribers"}),"\n",(0,i.jsx)(n.p,{children:"Topics enable asynchronous communication between nodes using a publish/subscribe pattern. Multiple nodes can publish to or subscribe from the same topic."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Python example: Creating a publisher\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Python example: Creating a subscriber\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsx)(n.p,{children:"Services provide synchronous request/response communication between nodes. A service client sends a request to a service server, which processes the request and returns a response."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Python example: Creating a service server\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalService(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_service')\r\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\r\n\r\n    def add_two_ints_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info('Incoming request\\na: %d b: %d' % (request.a, request.b))\r\n        return response\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Python example: Creating a service client\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalClientAsync(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_client_async')\r\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\r\n        while not self.cli.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('service not available, waiting again...')\r\n        self.req = AddTwoInts.Request()\r\n\r\n    def send_request(self, a, b):\r\n        self.req.a = a\r\n        self.req.b = b\r\n        self.future = self.cli.call_async(self.req)\r\n        rclpy.spin_until_future_complete(self, self.future)\r\n        return self.future.result()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-ros-2-commands",children:"Common ROS 2 Commands"}),"\n",(0,i.jsx)(n.h3,{id:"managing-nodes",children:"Managing Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all active nodes\r\nros2 node list\r\n\r\n# Get information about a specific node\r\nros2 node info <node_name>\r\n\r\n# Kill a specific node\r\nros2 node kill <node_name>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"working-with-topics",children:"Working with Topics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all active topics\r\nros2 topic list\r\n\r\n# Show information about a topic\r\nros2 topic info /topic_name\r\n\r\n# Echo messages from a topic\r\nros2 topic echo /topic_name\r\n\r\n# Publish a message to a topic\r\nros2 topic pub /topic_name std_msgs/String \"data: 'Hello World'\"\n"})}),"\n",(0,i.jsx)(n.h3,{id:"working-with-services",children:"Working with Services"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# List all active services\r\nros2 service list\r\n\r\n# Show information about a service\r\nros2 service info /service_name\r\n\r\n# Call a service\r\nros2 service call /add_two_ints example_interfaces/srv/AddTwoInts "{a: 1, b: 2}"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 nodes can have configurable parameters that can be set at launch time or changed during runtime:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List parameters of a node\r\nros2 param list <node_name>\r\n\r\n# Get a parameter value\r\nros2 param get <node_name> <param_name>\r\n\r\n# Set a parameter value\r\nros2 param set <node_name> <param_name> <value>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(n.p,{children:"Actions are used for long-running tasks with feedback and goal management:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Python example: Action server\r\nimport rclpy\r\nfrom rclpy.action import ActionServer\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciActionServer(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_action_server')\r\n        self._action_server = ActionServer(\r\n            self,\r\n            Fibonacci,\r\n            'fibonacci',\r\n            self.execute_callback)\r\n\r\n    def execute_callback(self, goal_handle):\r\n        self.get_logger().info('Executing goal...')\r\n        feedback_msg = Fibonacci.Feedback()\r\n        feedback_msg.sequence = [0, 1]\r\n\r\n        for i in range(1, goal_handle.request.order):\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                self.get_logger().info('Goal canceled')\r\n                return Fibonacci.Result()\r\n\r\n            feedback_msg.sequence.append(\r\n                feedback_msg.sequence[i] + feedback_msg.sequence[i-1])\r\n\r\n            goal_handle.publish_feedback(feedback_msg)\r\n\r\n        goal_handle.succeed()\r\n        result = Fibonacci.Result()\r\n        result.sequence = feedback_msg.sequence\r\n        return result\n"})}),"\n",(0,i.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,i.jsx)(n.p,{children:"Launch files allow you to start multiple nodes simultaneously with specific configurations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"\x3c!-- example_launch.py --\x3e\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='turtlesim',\r\n            executable='turtlesim_node',\r\n            name='sim'\r\n        ),\r\n        Node(\r\n            package='turtlesim',\r\n            executable='turtle_teleop_key',\r\n            name='teleop'\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node Design"}),": Keep nodes focused on a single responsibility"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topic Naming"}),": Use descriptive names and follow conventions (e.g., ",(0,i.jsx)(n.code,{children:"/robot_name/sensor_name"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Message Types"}),": Use appropriate message types for your data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),": Implement proper error handling in all communication patterns"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Management"}),": Clean up resources properly in node destruction"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides a robust framework for building complex robotic systems through its node-based architecture and various communication patterns. Understanding nodes, topics, services, and actions is crucial for developing effective robotic applications. The next chapter will explore how to use simulation environments to test and develop these systems before deploying them on real hardware."})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>t});var s=r(6540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);